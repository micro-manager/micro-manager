services:
  micro-manager:
    image: micro-manager-dev
    build:
      context: .
      dockerfile: docker/Dockerfile
    container_name: micromanager-container
    network_mode: host # Required for many hardware device adapters (IP cameras, etc)
    privileged: true   # Required for USB/Serial device access
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - XAUTHORITY=${XAUTHORITY:-/tmp/.Xauthority}
    volumes:
      - ${X11_UNIX_SOCKET:-/tmp/.X11-unix}:/tmp/.X11-unix
      - ${XAUTH_PATH:-./.Xauthority}:/tmp/.Xauthority:ro
      - /dev:/dev
      - .:/workdir
